


<!-- Configure values -->
{% if page.gmap.__id_counter -%}
{%- else -%}
    {%- assign page.gmap.__id_counter = 0 -%}
{%- endif -%}

{%- capture map_id -%}
    {%- if include.id -%}
        {{- include.id -}}
    {%- elsif page.gmap.id -%}
        {{- page.gmap.id -}}
    {%- else -%}
        gmap{{- page.url | replace: "/","-" | replace: ".html","" -}}_{{- page.gmap.__id_counter -}}
        {%- increment page.gmap.__id_counter -%}
    {%- endif -%}
{%- endcapture -%}

{%- capture map_lat -%}
    {%- if include.latitude -%}
        {{- include.latitude -}}
    {%- elsif page.gmap.latitude -%}
        {{- page.gmap.latitude -}}
    {%- else -%}
        0
    {%- endif -%}
{%- endcapture -%}

{%- capture map_long -%}
    {%- if include.longitude -%}
        {{- include.longitude -}}
    {%- elsif page.gmap.longitude -%}
        {{- page.gmap.longitude -}}
    {%- else -%}
        0
    {%- endif -%}
{%- endcapture -%}

{%- capture map_title -%}
    {%- if include.title -%}
        {{- include.title -}}
    {%- elsif page.gmap.title -%}
        {{- page.gmap.title -}}
    {%- elsif page.title -%}
        {{- page.title -}}
    {%- elsif site.title -%}
        {{- site.gmap.title -}}
    {%- else -%}
        Google Maps
    {%- endif -%}
{%- endcapture -%}

{%- capture map_icon -%}
    {%- if include.icon -%}
        {{- include.icon -}}
    {%- elsif page.gmap.icon -%}
        {{- page.gmap.icon -}}
    {%- elsif site.gmap.icon -%}
        {{- site.gmap.icon -}}
    {%- else -%}
        null
    {%- endif -%}
{%- endcapture -%}

{%- capture map_url -%}
    {%- if include.url -%}
        {{- include.url -}}
    {%- elsif page.gmap.url -%}
        {{- page.gmap.url -}}
    {%- elsif site.gmap.url -%}
        {{- page.gmap.url -}}
    {%- elsif page.url -%}
        {{- page.url -}}
    {%- else -%}
        
    {%- endif -%}
{%- endcapture -%}

{%- capture map_url_text -%}
    {%- if include.url_text -%}
        {{- include.url_text -}}
    {%- elsif page.gmap.url_text -%}
        {{- page.gmap.url_text -}}
    {%- else -%}
        null
    {%- endif -%}
{%- endcapture -%}

{%- capture map_image -%}
    {%- if include.image -%}
        {{- include.image -}}
    {%- elsif page.gmap.image -%}
        {{- page.gmap.image -}}
    {%- elsif site.gmap.image -%}
        {{- site.gmap.image -}}
    {%- else -%}
        
    {%- endif -%}
{%- endcapture -%}

{%- capture map_popup_html -%}
    {%- if include.popup_html -%}
        {{- include.popup_html -}}
    {%- elsif page.gmap.popup_html -%}
        {{- page.gmap.popup_html -}}
    {%- elsif site.gmap.popup_html -%}
        {{- site.gmap.popup_html -}}
    {%- else -%}
        
    {%- endif -%}
{%- endcapture -%}


<div id="a391178b-5ba9-4429-9203-42d65a42522a" style="width:600px;height:400px;" class=" jekyll-map"></div>
<script type="text/javascript">
  jekyllMaps.register(
    '{{ map_css_id -}}', 
    [
        {
            "latitude": {{- map_lat -}},
            "longitude": {{- map_long -}},
            "title": "{{- map_title -}}",
            "icon": {{- map_icon -}},
            "url": "{{- map_url -}}",
            "url_text": {{- map_url_text -}},
            "image": "{{- map_image -}}",
            "popup_html": "{{- map_popup_html -}}"
        }
    ],
    {
        "baseUrl":"{{- site.url -}}",
        "useCluster": true,
        "showMarker": true,
        "showMarkerPopup": true,
        "markerIcon": null,
        "styles": "[]",
        "customZoom": 15
    }
  );
  // /* old id: 'a391178b-5ba9-4429-9203-42d65a42522a' */
</script>

